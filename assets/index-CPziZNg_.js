import{r as u,a as X,R as ee}from"./react-vendor-Dt8B4mpO.js";import{i as te,g as se,a as re,b as ae,s as oe,G as ne,c as le,o as ie,d as L,e as G,f as q,h as P,j as T,k as J,l as K}from"./firebase-BYV4VCxq.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function o(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=o(r);fetch(r.href,i)}})();var Y={exports:{}},A={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var de=u,ce=Symbol.for("react.element"),me=Symbol.for("react.fragment"),ue=Object.prototype.hasOwnProperty,xe=de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,he={key:!0,ref:!0,__self:!0,__source:!0};function Z(s,t,o){var n,r={},i=null,l=null;o!==void 0&&(i=""+o),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)ue.call(t,n)&&!he.hasOwnProperty(n)&&(r[n]=t[n]);if(s&&s.defaultProps)for(n in t=s.defaultProps,t)r[n]===void 0&&(r[n]=t[n]);return{$$typeof:ce,type:s,key:i,ref:l,props:r,_owner:xe.current}}A.Fragment=me;A.jsx=Z;A.jsxs=Z;Y.exports=A;var e=Y.exports,R={},W=X;R.createRoot=W.createRoot,R.hydrateRoot=W.hydrateRoot;const ge={apiKey:"AIzaSyBtZyPScwTUw-G30StJilTG7AKDvhx7mVo",authDomain:"irai-17b31.firebaseapp.com",projectId:"irai-17b31",storageBucket:"irai-17b31.appspot.com",messagingSenderId:"946542637548",appId:"1:946542637548:web:6d55d7c1b95feb73e250c9",measurementId:"G-GCJNDPK7YV"},z=te(ge);typeof window<"u"&&se(z);const y=re(z),E=ae(z);oe(y,le);const U=new ne;U.setCustomParameters({prompt:"select_account"});function pe(s,t={}){const[o,n]=u.useState(t),[r,i]=u.useState(navigator.onLine),[l,m]=u.useState(!0);return u.useEffect(()=>{const x=()=>i(!0),c=()=>i(!1);return window.addEventListener("online",x),window.addEventListener("offline",c),()=>{window.removeEventListener("online",x),window.removeEventListener("offline",c)}},[]),u.useEffect(()=>{if(!s){m(!1);return}(async()=>{try{const d=L(E,"users",s),h=await G(d);if(h.exists()){const g=h.data();n(g),localStorage.setItem(`user_${s}`,JSON.stringify(g))}else n(t),localStorage.setItem(`user_${s}`,JSON.stringify(t))}catch(d){console.error("Erro ao carregar dados:",d);const h=localStorage.getItem(`user_${s}`);h&&n(JSON.parse(h))}finally{m(!1)}})();const c=ie(L(E,"users",s),d=>{if(d.exists()){const h=d.data();n(h),localStorage.setItem(`user_${s}`,JSON.stringify(h))}},d=>{console.error("Erro no listener:",d)});return()=>c()},[s,t]),[o,async x=>{if(s)try{const{lastUpdated:c,...d}=x;if(n(d),localStorage.setItem(`user_${s}`,JSON.stringify(d)),r){const h=L(E,"users",s);await q(h,d,{merge:!0})}}catch(c){console.error("Erro ao atualizar dados:",c)}},l]}function O(){const[s,t]=u.useState(null),[o,n]=u.useState(!0),[r,i]=u.useState(null);return u.useEffect(()=>{const c=y.onAuthStateChanged(d=>{t(d),n(!1)},d=>{console.error("Erro na autenticação:",d),n(!1)});return()=>c()},[]),{user:s,loading:o,error:r,login:async(c,d)=>{try{i(null),n(!0);const h=await K(y,c,d);return t(h.user),h.user}catch(h){throw console.error("Erro no login:",h),i(h.code==="auth/user-not-found"||h.code==="auth/wrong-password"?"Email ou senha incorretos":"Ocorreu um erro ao fazer login"),h}finally{n(!1)}},loginWithGoogle:async()=>{try{i(null),n(!0),y.currentUser&&await P(y);const c=await J(y,U);return t(c.user),c.user}catch(c){throw console.error("Erro no login com Google:",c),c.code==="auth/popup-closed-by-user"?i("Login cancelado pelo usuário"):i("Erro ao fazer login com Google"),c}finally{n(!1)}},register:async(c,d)=>{try{i(null),n(!0);const h=await T(y,c,d);return t(h.user),h.user}catch(h){throw console.error("Erro no registro:",h),i(h.code==="auth/email-already-in-use"?"Este email já está em uso":"Erro ao criar conta"),h}finally{n(!1)}},logout:async()=>{try{n(!0),await P(y),t(null)}catch(c){throw console.error("Erro no logout:",c),i("Erro ao fazer logout"),c}finally{n(!1)}},isAuthenticated:!!s}}function fe(s){let t=0,o=0;return s.forEach(n=>{n.disciplinas.forEach(r=>{(r.status==="Aprovado"||r.status==="Reprovado")&&(t+=r.nota*r.horas,o+=r.horas)})}),o===0?0:t/o}function be(s){let t=0,o=0;return s.forEach(n=>{(n.status==="Aprovado"||n.status==="Reprovado")&&(t+=n.nota*n.horas,o+=n.horas)}),o===0?0:t/o}const C=u.createContext({}),_={nome:"",horasTotal:0,horasObrigatorias:0,horasOptativas:0,horasModuloLivre:0},D={semestres:[],horasExtras:[],cursoInfo:_,estatisticas:{ira:0,disciplinasCompletadas:0,creditosObtidos:0,horasObrigatoriasFeitas:0,horasOptativasFeitas:0,horasModuloLivreFeitas:0}};function ve({children:s}){const{user:t}=O(),[o,n,r]=pe(t==null?void 0:t.uid,D),[i,l]=u.useState(o.semestres||[]),[m,a]=u.useState(o.horasExtras||[]),[x,c]=u.useState(o.cursoInfo||_),[d,h]=u.useState(o.estatisticas||D.estatisticas);u.useEffect(()=>{!r&&o&&(l(o.semestres||[]),a(o.horasExtras||[]),c(o.cursoInfo||_),h(o.estatisticas||D.estatisticas))},[o,r]),u.useEffect(()=>{if(r)return;const b=i.flatMap(v=>v.disciplinas.filter(w=>w.status==="Aprovado")),S=b.filter(v=>v.tipo==="Obrigatória").reduce((v,w)=>v+(Number(w.horas)||0),0),I=b.filter(v=>v.tipo==="Optativa").reduce((v,w)=>v+(Number(w.horas)||0),0),f=b.filter(v=>v.tipo==="Módulo Livre").reduce((v,w)=>v+(Number(w.horas)||0),0),j={ira:fe(i),disciplinasCompletadas:b.length,creditosObtidos:b.reduce((v,w)=>v+Math.floor((Number(w.horas)||0)/15),0),horasObrigatoriasFeitas:S,horasOptativasFeitas:I,horasModuloLivreFeitas:f};h(j),r||n({semestres:i,horasExtras:m,cursoInfo:x,estatisticas:j})},[i,m,x,r]);const g=b=>{l(b)},N=b=>{a(b)},p=b=>{c(b)};return r?e.jsx("div",{children:"Carregando..."}):e.jsx(C.Provider,{value:{semestres:i,setSemestres:g,horasExtras:m,setHorasExtras:N,cursoInfo:x,setCursoInfo:p,estatisticas:d,isLoading:r},children:s})}const je=u.createContext({});function ye({children:s}){const t=O();return e.jsx(je.Provider,{value:t,children:!t.loading&&s})}function H(s){const[t,o]=u.useState(()=>{const r=localStorage.getItem(`userData_${s}`);return r?JSON.parse(r):null});return u.useEffect(()=>{if(!s)return;(async()=>{try{const i=await G(L(E,"users",s));if(i.exists()){const l=i.data();o(l),localStorage.setItem(`userData_${s}`,JSON.stringify(l))}}catch(i){console.error("Erro ao carregar dados do usuário:",i)}})()},[s]),[t,async r=>{if(s)try{o(r),localStorage.setItem(`userData_${s}`,JSON.stringify(r)),await q(L(E,"users",s),r,{merge:!0})}catch(i){throw console.error("Erro ao salvar dados do usuário:",i),i}}]}function Ne({onLogout:s}){const{user:t}=O(),[o]=H(t==null?void 0:t.uid),n=(o==null?void 0:o.nomeUsuario)||(t==null?void 0:t.displayName)||(t==null?void 0:t.email);return e.jsx("header",{className:"bg-white border-b border-gray-200 fixed top-0 left-0 right-0 z-10",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-emerald-600",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z"})}),e.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-emerald-600 to-emerald-500 bg-clip-text text-transparent",children:"Iraí"})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"text-sm text-gray-600 font-medium",children:n}),e.jsxs("button",{onClick:s,className:"inline-flex items-center gap-2 px-3 py-2 border border-gray-200 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 hover:border-gray-300 transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sair"]})]})]})})})}function F({title:s,children:t,action:o}){return e.jsxs("section",{className:"section-card",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h2",{className:"section-title",children:s}),o]}),t]})}function $({children:s,className:t=""}){return e.jsx("div",{className:`bg-white rounded-lg p-6 ${t}`,children:s})}function B({title:s,children:t,onClose:o,footer:n}){return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:s}),t,n&&e.jsx("div",{className:"flex justify-end gap-2 mt-6 pt-6 border-t",children:n})]})})}function k({label:s,value:t,onChange:o,type:n="text",placeholder:r="",className:i="",suffix:l,required:m=!1}){return e.jsxs("div",{className:i,children:[s&&e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:n,value:t,onChange:a=>o(a.target.value),placeholder:r,required:m,className:`w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-gray-900 text-base focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all ${l?"pr-8":""}`}),l&&e.jsx("div",{className:"absolute inset-y-0 right-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-gray-500",children:l})})]})]})}function we(){const{cursoInfo:s,estatisticas:t}=u.useContext(C),{user:o}=O(),[n]=H(o==null?void 0:o.uid);return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"border-b pb-6",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Aluno"}),e.jsx("p",{className:"text-xl font-semibold text-gray-900",children:(n==null?void 0:n.nomeUsuario)||(o==null?void 0:o.displayName)||"Não informado"}),e.jsx("h3",{className:"text-sm font-medium text-gray-500 mt-4 mb-1",children:"Curso"}),e.jsx("p",{className:"text-xl font-semibold text-gray-900",children:s.nome||"Não informado"})]}),e.jsx("div",{className:"border-b pb-6",children:e.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"IRA"}),e.jsx("p",{className:"mt-1 text-xl font-semibold text-emerald-600",children:t.ira.toFixed(4)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Disciplinas Cursadas"}),e.jsx("p",{className:"mt-1 text-xl font-semibold text-gray-900",children:t.disciplinasCompletadas})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Créditos Obtidos"}),e.jsx("p",{className:"mt-1 text-xl font-semibold text-gray-900",children:t.creditosObtidos})]})]})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-4",children:"Carga Horária"}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total"}),e.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:s.horasTotal>0?`${s.horasTotal}h`:"Não informado"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Obrigatórias"}),e.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:s.horasObrigatorias>0?`${s.horasObrigatorias}h`:"Não informado"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Optativas"}),e.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:s.horasOptativas>0?`${s.horasOptativas}h`:"Não informado"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Módulo Livre"}),e.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:s.horasModuloLivre>0?`${s.horasModuloLivre}h`:"Não informado"})]})]})]})]})}function Ce({onClose:s}){const{cursoInfo:t,setCursoInfo:o}=u.useContext(C),{user:n}=O(),[r,i]=H(n==null?void 0:n.uid),[l,m]=u.useState({nome:"",nomeUsuario:"",horasTotal:"",horasObrigatorias:"",horasOptativas:"",horasModuloLivre:""}),[a,x]=u.useState(!1),[c,d]=u.useState(!0);u.useEffect(()=>{t&&r&&(m({nome:t.nome||"",nomeUsuario:(r==null?void 0:r.nomeUsuario)||(n==null?void 0:n.displayName)||"",horasTotal:t.horasTotal>0?t.horasTotal.toString():"",horasObrigatorias:t.horasObrigatorias>0?t.horasObrigatorias.toString():"",horasOptativas:t.horasOptativas>0?t.horasOptativas.toString():"",horasModuloLivre:t.horasModuloLivre>0?t.horasModuloLivre.toString():""}),d(!1))},[t,r,n]);const h=(p,b)=>{m(S=>({...S,[p]:b}))},g=async()=>{try{x(!0),await i({nomeUsuario:l.nomeUsuario,lastUpdated:new Date().toISOString()}),await o({...t,nome:l.nome,horasTotal:Number(l.horasTotal)||0,horasObrigatorias:Number(l.horasObrigatorias)||0,horasOptativas:Number(l.horasOptativas)||0,horasModuloLivre:Number(l.horasModuloLivre)||0}),s()}catch(p){console.error("Erro ao salvar:",p),alert("Erro ao salvar as alterações. Tente novamente.")}finally{x(!1)}};if(c)return e.jsx(B,{title:"Editar Informações do Curso",onClose:s,children:e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600"})})});const N=e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:s,disabled:a,className:"px-4 py-2 text-sm bg-white text-gray-600 rounded-lg hover:bg-gray-50 transition-colors border border-gray-200 disabled:opacity-50",children:"Cancelar"}),e.jsx("button",{onClick:g,disabled:a,className:"px-4 py-2 text-sm bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:a?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Salvando..."]}):"Salvar"})]});return e.jsx(B,{title:"Editar Informações do Curso",onClose:s,footer:N,children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(k,{label:"Seu Nome",value:l.nomeUsuario,onChange:p=>h("nomeUsuario",p),placeholder:"Ex: João Silva"}),e.jsx(k,{label:"Nome do Curso",value:l.nome,onChange:p=>h("nome",p),placeholder:"Ex: Engenharia de Redes"})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-4",children:"Carga Horária"}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsx(k,{label:"Total de Horas",value:l.horasTotal,onChange:p=>h("horasTotal",p),type:"number",placeholder:"0",suffix:"h"}),e.jsx(k,{label:"Horas Obrigatórias",value:l.horasObrigatorias,onChange:p=>h("horasObrigatorias",p),type:"number",placeholder:"0",suffix:"h"}),e.jsx(k,{label:"Horas Optativas",value:l.horasOptativas,onChange:p=>h("horasOptativas",p),type:"number",placeholder:"0",suffix:"h"}),e.jsx(k,{label:"Limite Módulo Livre",value:l.horasModuloLivre,onChange:p=>h("horasModuloLivre",p),type:"number",placeholder:"0",suffix:"h"})]})]})]})})}function Se(){const{cursoInfo:s,estatisticas:t}=u.useContext(C),o=u.useMemo(()=>{const n=(r,i)=>!i||i<=0?0:r/i*100;return{obrigatorias:{feitas:t.horasObrigatoriasFeitas,total:s.horasObrigatorias,porcentagem:n(t.horasObrigatoriasFeitas,s.horasObrigatorias)},optativas:{feitas:t.horasOptativasFeitas,total:s.horasOptativas,porcentagem:n(t.horasOptativasFeitas,s.horasOptativas)},moduloLivre:{feitas:t.horasModuloLivreFeitas,total:s.horasModuloLivre,porcentagem:n(t.horasModuloLivreFeitas,s.horasModuloLivre)},total:{feitas:t.horasObrigatoriasFeitas+t.horasOptativasFeitas+t.horasModuloLivreFeitas,total:s.horasTotal,porcentagem:n(t.horasObrigatoriasFeitas+t.horasOptativasFeitas+t.horasModuloLivreFeitas,s.horasTotal)}}},[s,t]);return e.jsxs("div",{className:"space-y-6 h-full flex flex-col justify-between py-2",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Progresso do Curso"}),e.jsxs("div",{className:"space-y-6 flex-grow",children:[e.jsxs("div",{className:"space-y-5",children:[e.jsx(M,{label:"Obrigatórias",percentage:o.obrigatorias.porcentagem,feitas:o.obrigatorias.feitas,total:o.obrigatorias.total,color:"emerald"}),e.jsx(M,{label:"Optativas",percentage:o.optativas.porcentagem,feitas:o.optativas.feitas,total:o.optativas.total,color:"blue"}),e.jsx(M,{label:"Módulo Livre",percentage:o.moduloLivre.porcentagem,feitas:o.moduloLivre.feitas,total:o.moduloLivre.total,color:"purple"})]}),e.jsx("div",{className:"pt-6 border-t",children:e.jsx(M,{label:"Total do Curso",percentage:o.total.porcentagem,feitas:o.total.feitas,total:o.total.total,color:"gray",size:"lg"})})]})]})}function M({label:s,percentage:t,feitas:o,total:n,color:r,size:i="default"}){const l={emerald:"bg-emerald-600",blue:"bg-blue-600",purple:"bg-purple-600",gray:"bg-gray-600"},m={default:"h-2.5",lg:"h-3"},a=Math.min(Math.max(isNaN(t)?0:t,0),100);return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`text-${i==="lg"?"base":"sm"} font-medium text-gray-700`,children:s}),e.jsxs("span",{className:"text-xs font-medium text-gray-500 bg-gray-100 px-2 py-0.5 rounded-full",children:[o,"h / ",n,"h"]})]}),e.jsxs("span",{className:`text-${i==="lg"?"base":"sm"} font-medium text-gray-700`,children:[a.toFixed(1),"%"]})]}),e.jsx("div",{className:`w-full bg-gray-200 rounded-full ${m[i]}`,children:e.jsx("div",{className:`${m[i]} rounded-full transition-all duration-300 ${l[r]}`,style:{width:`${a}%`}})})]})}function ke({numero:s,disciplinas:t,onAddDisciplina:o,onRemoveDisciplina:n}){const[r,i]=u.useState({nome:"",horas:"",nota:"",tipo:"Obrigatória",status:"Cursando"}),l=(a,x)=>{i(c=>({...c,[a]:x}))},m=a=>{a.preventDefault(),!(!r.nome||!r.horas)&&(o(s,{...r,horas:Number(r.horas),nota:Number(r.nota)||0}),i({nome:"",horas:"",nota:"",tipo:"Obrigatória",status:"Cursando"}))};return e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-emerald-100 overflow-hidden",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("form",{onSubmit:m,className:"grid grid-cols-1 md:grid-cols-12 gap-4",children:[e.jsxs("div",{className:"md:col-span-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Disciplina"}),e.jsx("input",{type:"text",value:r.nome,onChange:a=>l("nome",a.target.value),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Ex: Cálculo 1"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Horas"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:r.horas,onChange:a=>l("horas",a.target.value),className:"w-full px-3 py-2 pr-8 text-sm border border-gray-200 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"60",min:"15",step:"15"}),e.jsx("div",{className:"absolute inset-y-0 right-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-gray-500 text-sm",children:"h"})})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),e.jsxs("select",{value:r.tipo,onChange:a=>l("tipo",a.target.value),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:[e.jsx("option",{value:"Obrigatória",children:"Obrigatória"}),e.jsx("option",{value:"Optativa",children:"Optativa"}),e.jsx("option",{value:"Módulo Livre",children:"Módulo Livre"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:r.status,onChange:a=>l("status",a.target.value),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:[e.jsx("option",{value:"Cursando",children:"Cursando"}),e.jsx("option",{value:"Aprovado",children:"Aprovado"}),e.jsx("option",{value:"Reprovado",children:"Reprovado"}),e.jsx("option",{value:"Trancado",children:"Trancado"})]})]}),(r.status==="Aprovado"||r.status==="Reprovado")&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Menção"}),e.jsxs("select",{value:r.nota,onChange:a=>l("nota",a.target.value),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:[e.jsx("option",{value:"",children:"Selecione..."}),e.jsx("option",{value:"5",children:"SS (5.0)"}),e.jsx("option",{value:"4",children:"MS (4.0)"}),e.jsx("option",{value:"3",children:"MM (3.0)"}),e.jsx("option",{value:"2",children:"MI (2.0)"}),e.jsx("option",{value:"1",children:"II (1.0)"}),e.jsx("option",{value:"0",children:"SR (0.0)"})]})]}),e.jsx("div",{className:`flex justify-end ${r.status==="Aprovado"||r.status==="Reprovado"?"md:col-span-12":"md:col-span-2"}`,children:e.jsx("button",{type:"submit",className:"w-full px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors text-sm font-medium",children:"Adicionar Disciplina"})})]}),t.length>0&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-emerald-50/50",children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-emerald-800",children:"Disciplina"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-emerald-800",children:"Horas"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-emerald-800",children:"Tipo"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-emerald-800",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-emerald-800",children:"Menção"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-emerald-800",children:"Ações"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map((a,x)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:a.nome}),e.jsxs("td",{className:"px-4 py-3 text-sm text-gray-500",children:[a.horas,"h"]}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:a.tipo}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium
                        ${a.status==="Aprovado"?"bg-green-100 text-green-800":a.status==="Reprovado"?"bg-red-100 text-red-800":a.status==="Cursando"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:a.status})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:a.nota?["SR","II","MI","MM","MS","SS"][a.nota]:"-"}),e.jsx("td",{className:"px-4 py-3 text-right",children:e.jsx("button",{onClick:()=>n(s,x),className:"text-red-600 hover:text-red-900 text-sm font-medium",children:"Remover"})})]},x))})]})})]})})}function Le(){const{semestres:s=[],setSemestres:t}=u.useContext(C),o=()=>{t([...s,{numero:s.length+1,disciplinas:[]}])},n=l=>{t(s.filter(m=>m.numero!==l))},r=(l,m)=>{t(s.map(a=>a.numero===l?{...a,disciplinas:[...a.disciplinas,m]}:a))},i=(l,m)=>{t(s.map(a=>a.numero===l?{...a,disciplinas:a.disciplinas.filter((x,c)=>c!==m)}:a))};return e.jsxs("div",{className:"space-y-4",children:[e.jsx("button",{"data-action":"adicionar-semestre",onClick:o,className:"hidden"}),Array.isArray(s)&&s.map(l=>e.jsxs("div",{className:"animate-fadeIn",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("h2",{className:"text-lg font-medium text-gray-900",children:[l.numero,"º Semestre"]}),e.jsx("div",{className:"px-3 py-1 rounded-full bg-emerald-50 border border-emerald-100",children:e.jsxs("span",{className:"text-sm font-medium text-emerald-700",children:["IRA: ",be(l.disciplinas||[]).toFixed(4)]})})]}),s.length>1&&e.jsx("button",{onClick:()=>n(l.numero),className:"text-emerald-600 bg-white hover:bg-emerald-50 transition-colors p-2 rounded-lg border border-emerald-200",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]}),e.jsx(ke,{numero:l.numero,disciplinas:l.disciplinas||[],onAddDisciplina:r,onRemoveDisciplina:i})]},l.numero))]})}function Ee(){const{horasExtras:s=[],setHorasExtras:t}=u.useContext(C),[o,n]=u.useState({descricao:"",horas:"",tipo:"Extensão"}),r=(a,x)=>{n(c=>({...c,[a]:x}))},i=a=>{a.preventDefault(),!(!o.descricao||!o.horas)&&(t([...s,{id:Date.now(),descricao:o.descricao,horas:Number(o.horas),tipo:o.tipo}]),n({descricao:"",horas:"",tipo:"Extensão"}))},l=a=>{t(s.filter(x=>x.id!==a))},m=s.reduce((a,x)=>a+(Number(x.horas)||0),0);return e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-emerald-100 overflow-hidden",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-baseline gap-3",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Atividades Complementares"}),e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium bg-emerald-100 text-emerald-800",children:["Total: ",m,"h"]})]})}),e.jsxs("form",{onSubmit:i,className:"flex flex-wrap gap-3 items-end",children:[e.jsxs("div",{className:"flex-1 min-w-[200px]",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição da Atividade"}),e.jsx("input",{type:"text",value:o.descricao,onChange:a=>r("descricao",a.target.value),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Ex: Participação em Projeto de Extensão"})]}),e.jsxs("div",{className:"w-24",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Horas"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:o.horas,onChange:a=>r("horas",a.target.value),className:"w-full px-3 py-2 pr-8 text-sm border border-gray-200 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"30",min:"1"}),e.jsx("div",{className:"absolute inset-y-0 right-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-gray-500 text-sm",children:"h"})})]})]}),e.jsxs("div",{className:"w-32",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),e.jsxs("select",{value:o.tipo,onChange:a=>r("tipo",a.target.value),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:[e.jsx("option",{value:"Extensão",children:"Extensão"}),e.jsx("option",{value:"Pesquisa",children:"Pesquisa"}),e.jsx("option",{value:"Monitoria",children:"Monitoria"}),e.jsx("option",{value:"Estágio",children:"Estágio"}),e.jsx("option",{value:"Curso",children:"Curso"}),e.jsx("option",{value:"Outro",children:"Outro"})]})]}),e.jsxs("button",{type:"submit",className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors text-sm font-medium h-[38px] flex items-center gap-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"Adicionar"]})]}),Array.isArray(s)&&s.length>0&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-emerald-50/50",children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-emerald-800",children:"Descrição"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-emerald-800",children:"Horas"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-emerald-800",children:"Tipo"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-emerald-800",children:"Ações"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:s.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:a.descricao}),e.jsxs("td",{className:"px-4 py-3 text-sm text-gray-500",children:[a.horas,"h"]}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:a.tipo}),e.jsx("td",{className:"px-4 py-3 text-right",children:e.jsx("button",{onClick:()=>l(a.id),className:"text-red-600 hover:text-red-900 text-sm font-medium",children:"Remover"})})]},a.id))})]})})]})})}function Oe({id:s,label:t,value:o,onChange:n,required:r=!1,placeholder:i="••••••••"}){const[l,m]=u.useState(!1);return e.jsxs("div",{children:[e.jsx("label",{htmlFor:s,className:"block text-sm font-medium text-gray-700 mb-1.5",children:t}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:s,type:l?"text":"password",required:r,value:o,onChange:n,placeholder:i,className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-gray-900 text-base focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all pr-10"}),e.jsx("button",{type:"button",onClick:()=>m(!l),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 text-green-600 hover:text-green-700 hover:bg-green-50 rounded-md transition-all",children:l?e.jsxs("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}):e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})})})]})]})}function Q({children:s,onClick:t,variant:o="red"}){const n={red:"text-red-600 hover:text-red-500 hover:bg-red-50 bg-transparent",green:"text-green-600 hover:text-green-500 hover:bg-green-50 bg-transparent"};return e.jsx("button",{onClick:t,className:`px-4 py-2.5 text-base font-medium rounded-lg transition-all ${n[o]}`,children:s})}function Me({email:s,setEmail:t,senha:o,setSenha:n,onSubmit:r,erro:i,carregando:l,onGoogleLogin:m}){const[a,x]=u.useState(!1),c=async d=>{if(d.preventDefault(),!a)try{x(!0),await m()}catch(h){console.error("Erro no login com Google:",h)}finally{x(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-center mb-8",children:e.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Entrar na sua conta"})}),e.jsxs("button",{onClick:c,disabled:l||a,className:"w-full flex items-center justify-center gap-3 px-4 py-3.5 bg-white border border-gray-200 rounded-xl text-gray-700 hover:bg-gray-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[a?e.jsx("div",{className:"w-5 h-5 border-2 border-gray-300 border-t-gray-600 rounded-full animate-spin"}):e.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),e.jsx("span",{className:"text-base font-medium",children:a?"Conectando...":"Continuar com Google"})]}),e.jsxs("div",{className:"mt-8 mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-200"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-4 bg-white text-gray-500",children:"ou"})})]}),e.jsxs("form",{onSubmit:r,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Email"}),e.jsx("input",{id:"email",type:"email",required:!0,value:s,onChange:d=>t(d.target.value),disabled:l,className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-gray-900 text-base focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all disabled:opacity-50"})]}),e.jsx(Oe,{id:"senha",label:"Senha",value:o,onChange:d=>n(d.target.value),disabled:l,required:!0}),i&&e.jsx("div",{className:"p-4 text-sm text-red-600 bg-red-50 border border-red-100 rounded-lg",children:i}),e.jsx("button",{type:"submit",disabled:l,className:"w-full py-3 px-4 bg-green-600 text-white text-base font-medium rounded-lg hover:bg-green-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:l?e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Entrando..."})]}):"Entrar"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx(Q,{variant:"red",children:"Esqueceu sua senha?"})})]})}function Ae({onLogin:s}){const[t,o]=u.useState(""),[n,r]=u.useState(""),[i,l]=u.useState(""),[m,a]=u.useState(""),[x,c]=u.useState(!1),[d,h]=u.useState("escolha"),[g,N]=u.useState(!1),p=async f=>{f==null||f.preventDefault(),a(""),c(!0);try{const j=await K(y,t,n);s({email:j.user.email,uid:j.user.uid,nome:j.user.displayName})}catch(j){console.error(j),a("Email ou senha inválidos")}finally{c(!1)}},b=async f=>{if(f.preventDefault(),n!==i){a("As senhas não coincidem");return}a(""),c(!0);try{const j=await T(y,t,n);s({email:j.user.email,uid:j.user.uid,nome:j.user.displayName})}catch(j){console.error(j),a("Erro ao criar conta")}finally{c(!1)}},S=async()=>{a(""),c(!0);try{const f=await J(y,U);s({email:f.user.email,uid:f.user.uid,nome:f.user.displayName})}catch(f){console.error(f),a("Erro ao fazer login com Google")}finally{c(!1)}},I=()=>{localStorage.setItem("modo","anonimo"),s({email:"anonimo@irai.app",uid:"anonimo",nome:"Anônimo"})};return e.jsx("div",{className:"fixed inset-0 bg-green-900 flex items-center justify-center no-scrollbar",children:e.jsxs("div",{className:"flex flex-col items-center justify-center h-screen w-full no-scrollbar",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("img",{className:"mx-auto h-16 w-auto animate-float",src:"/logo.svg",alt:"Iraí"}),e.jsx("h1",{className:"mt-6 text-3xl font-bold text-white drop-shadow-lg",children:"Iraí"}),e.jsx("p",{className:"mt-3 text-lg font-medium text-white/90 drop-shadow",children:"Gerencie seu progresso acadêmico"})]}),d==="escolha"?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-6xl mx-auto px-8",children:[e.jsxs("button",{onClick:()=>h("login"),className:"bg-white/95 backdrop-blur rounded-2xl p-8 shadow-xl border border-white/20 hover:bg-white hover:border-green-100 hover:shadow-green-500/10 transition-all group hover:-translate-y-1",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-xl flex items-center justify-center mb-6 group-hover:bg-green-200 transition-colors mx-auto",children:e.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})})}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3 text-center",children:"Entrar"}),e.jsx("p",{className:"text-base text-gray-600 text-center",children:"Acesse sua conta para continuar seu progresso"})]}),e.jsxs("button",{onClick:()=>h("registro"),className:"bg-white/95 backdrop-blur rounded-2xl p-8 shadow-xl border border-white/20 hover:bg-white hover:border-green-100 hover:shadow-green-500/10 transition-all group hover:-translate-y-1",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-xl flex items-center justify-center mb-6 group-hover:bg-green-200 transition-colors mx-auto",children:e.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})})}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3 text-center",children:"Criar Conta"}),e.jsx("p",{className:"text-base text-gray-600 text-center",children:"Registre-se para começar a acompanhar seu progresso"})]}),e.jsxs("button",{onClick:()=>h("anonimo"),className:"bg-white/95 backdrop-blur rounded-2xl p-8 shadow-xl border border-white/20 hover:bg-white hover:border-green-100 hover:shadow-green-500/10 transition-all group hover:-translate-y-1",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-xl flex items-center justify-center mb-6 group-hover:bg-green-200 transition-colors mx-auto",children:e.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 11V7a4 4 0 118 0m-4 8v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2z"})})}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3 text-center",children:"Modo Anônimo"}),e.jsx("p",{className:"text-base text-gray-600 text-center",children:"Use localmente sem criar uma conta"})]})]}):e.jsx("div",{className:"w-full max-w-md mx-auto",children:e.jsxs("div",{className:"bg-white/95 backdrop-blur rounded-2xl shadow-xl border border-white/20 p-8",children:[d==="login"&&e.jsx(Me,{email:t,setEmail:o,senha:n,setSenha:r,onSubmit:p,erro:m,carregando:x,onGoogleLogin:S}),d==="registro"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-center mb-6",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Criar uma conta"})}),e.jsxs("button",{onClick:S,disabled:x,className:"w-full flex items-center justify-center gap-3 px-4 py-3 bg-white border border-gray-200 rounded-xl text-gray-700 hover:bg-gray-50 transition-colors",children:[e.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Registrar com Google"})]}),e.jsxs("div",{className:"mt-6 mb-6 relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-200"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-4 py-2 bg-white text-gray-500 inline-block",children:"ou"})})]}),e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{id:"email",type:"email",required:!0,value:t,onChange:f=>o(f.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-gray-900 text-sm focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"senha",className:"block text-sm font-medium text-gray-700 mb-1",children:"Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"senha",type:g?"text":"password",required:!0,value:n,onChange:f=>r(f.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-gray-900 text-sm focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all"}),e.jsx("button",{type:"button",onClick:()=>N(!g),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-emerald-600 hover:text-emerald-700 transition-colors",children:g?e.jsxs("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}):e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})})})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmarSenha",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmar Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"confirmarSenha",type:g?"text":"password",required:!0,value:i,onChange:f=>l(f.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-gray-900 text-sm focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all"}),e.jsx("button",{type:"button",onClick:()=>N(!g),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-emerald-600 hover:text-emerald-700 transition-colors",children:g?e.jsxs("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}):e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})})})]})]}),m&&e.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-100 rounded-lg",children:m}),e.jsx("button",{type:"submit",disabled:x,className:"w-full py-2 px-4 bg-emerald-600 text-white text-sm font-medium rounded-lg hover:bg-emerald-700 transition-colors",children:x?"Criando conta...":"Criar conta"})]})]}),d==="anonimo"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Modo Anônimo"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Seus dados serão salvos apenas no seu navegador"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Como funciona?"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-2",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-emerald-500 shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Seus dados são salvos localmente no seu navegador"]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-emerald-500 shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Você pode usar todas as funcionalidades sem criar conta"]}),e.jsx("li",{className:"flex items-start gap-2",children:e.jsx("svg",{className:"w-5 h-5 text-amber-500 shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})})]})]}),e.jsx("button",{onClick:I,className:"w-full py-2 px-4 bg-emerald-600 text-white text-sm font-medium rounded-lg hover:bg-emerald-700 transition-colors",children:"Continuar sem conta"})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx(Q,{onClick:()=>h("escolha"),variant:"red",children:"Voltar"})})]})})]})})}function Ie({onLogin:s,onVoltar:t}){const[o,n]=u.useState(""),[r,i]=u.useState(""),[l,m]=u.useState(""),[a,x]=u.useState(""),[c,d]=u.useState(!1),h=async g=>{if(g.preventDefault(),x(""),r!==l){x("As senhas não coincidem");return}if(r.length<6){x("A senha deve ter pelo menos 6 caracteres");return}d(!0);try{const N=await T(y,o,r);s({email:N.user.email,uid:N.user.uid,nome:N.user.displayName})}catch(N){console.error(N),N.code==="auth/email-already-in-use"?x("Este email já está em uso"):x("Erro ao criar conta")}finally{d(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white py-12 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-md w-full",children:e.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("img",{className:"mx-auto h-12 w-auto",src:"/logo.svg",alt:"Iraí"}),e.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Crie sua conta"}),e.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Ou"," ",e.jsx("button",{onClick:t,className:"font-medium text-emerald-600 hover:text-emerald-500 transition-colors",children:"volte para o login"})]})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:h,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:o,onChange:g=>n(g.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm",placeholder:"seu@email.com"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"senha",className:"block text-sm font-medium text-gray-700",children:"Senha"}),e.jsx("input",{id:"senha",name:"senha",type:"password",required:!0,value:r,onChange:g=>i(g.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm",placeholder:"••••••••"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmarSenha",className:"block text-sm font-medium text-gray-700",children:"Confirmar Senha"}),e.jsx("input",{id:"confirmarSenha",name:"confirmarSenha",type:"password",required:!0,value:l,onChange:g=>m(g.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm",placeholder:"••••••••"})]})]}),a&&e.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-100 rounded-lg p-3",children:a}),e.jsx("button",{type:"submit",disabled:c,className:"w-full flex justify-center py-2.5 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 transition-colors disabled:opacity-50",children:c?"Criando conta...":"Criar conta"})]})]})})})}function De(){const[s,t]=u.useState(null),[o,n]=u.useState(!0),[r,i]=u.useState("login"),[l,m]=u.useState(!1);u.useEffect(()=>{const c=y.onAuthStateChanged(d=>{t(d?{email:d.email,uid:d.uid,nome:d.displayName}:null),n(!1)});return()=>c()},[]);const a=c=>{t(c)},x=async()=>{try{await P(y),t(null)}catch(c){console.error("Erro ao fazer logout:",c)}};return o?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-green-900",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto"}),e.jsx("p",{className:"mt-4 text-white",children:"Carregando..."})]})}):s?e.jsx(ye,{children:e.jsx(ve,{children:e.jsx(Fe,{usuario:s,onLogout:x,editandoCurso:l,setEditandoCurso:m})})}):r==="cadastro"?e.jsx("div",{className:"auth-layout",children:e.jsx(Ie,{onLogin:a,onVoltar:()=>i("login")})}):e.jsx("div",{className:"auth-layout",children:e.jsx(Ae,{onLogin:a,onCriarConta:()=>i("cadastro")})})}function Fe({usuario:s,onLogout:t,editandoCurso:o,setEditandoCurso:n}){const{semestres:r}=u.useContext(C);return e.jsxs("div",{className:"content-layout",children:[e.jsx(Ne,{usuario:s,onLogout:t,className:"header-fixed"}),e.jsx("main",{className:"centered-container",children:e.jsx("div",{className:"content-wrapper animate-fadeIn",children:e.jsxs("div",{className:"space-y-8",children:[e.jsx(F,{title:"Informações do Curso",action:e.jsx("button",{className:"btn-primary",onClick:()=>n(!0),children:"Editar"}),children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx($,{children:e.jsx(we,{})}),e.jsx($,{children:e.jsx(Se,{},JSON.stringify(r))})]})}),e.jsx(F,{title:"Semestres",action:e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors text-sm font-medium",onClick:()=>{var i;return(i=document.querySelector('[data-action="adicionar-semestre"]'))==null?void 0:i.click()},children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"Adicionar Semestre"]}),children:e.jsx(Le,{})}),e.jsx(F,{title:"Horas Extras",children:e.jsx(Ee,{})})]})})}),o&&e.jsx(Ce,{onClose:()=>n(!1)})]})}const Pe="modulepreload",Re=function(s){return"/Irai/"+s},V={},_e=function(t,o,n){let r=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),m=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));r=Promise.allSettled(o.map(a=>{if(a=Re(a),a in V)return;V[a]=!0;const x=a.endsWith(".css"),c=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const d=document.createElement("link");if(d.rel=x?"stylesheet":Pe,x||(d.as="script"),d.crossOrigin="",d.href=a,m&&d.setAttribute("nonce",m),document.head.appendChild(d),x)return new Promise((h,g)=>{d.addEventListener("load",h),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${a}`)))})}))}function i(l){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=l,window.dispatchEvent(m),!m.defaultPrevented)throw l}return r.then(l=>{for(const m of l||[])m.status==="rejected"&&i(m.reason);return t().catch(i)})};function Te(s={}){const{immediate:t=!1,onNeedRefresh:o,onOfflineReady:n,onRegistered:r,onRegisteredSW:i,onRegisterError:l}=s;let m,a;const x=async(d=!0)=>{await a};async function c(){if("serviceWorker"in navigator){if(m=await _e(async()=>{const{Workbox:d}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:d}},[]).then(({Workbox:d})=>new d("/Irai/sw.js",{scope:"/Irai/",type:"classic"})).catch(d=>{l==null||l(d)}),!m)return;m.addEventListener("activated",d=>{(d.isUpdate||d.isExternal)&&window.location.reload()}),m.addEventListener("installed",d=>{d.isUpdate||n==null||n()}),m.register({immediate:t}).then(d=>{i?i("/Irai/sw.js",d):r==null||r(d)}).catch(d=>{l==null||l(d)})}}return a=c(),x}"serviceWorker"in navigator&&Te({onNeedRefresh(){},onOfflineReady(){}});R.createRoot(document.getElementById("root")).render(e.jsx(ee.StrictMode,{children:e.jsx(De,{})}));
//# sourceMappingURL=index-CPziZNg_.js.map
